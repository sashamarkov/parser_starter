# Парсер страницы товара

## Описание проекта

Учебный проект по парсингу веб-страницы с информацией о товаре. Задача - заполнить структуру данных информацией со страницы с помощью JavaScript.

## Структура данных

Проект должен возвращать объект со следующей структурой:

```javascript
{
  meta: {
    title: "Заголовок страницы",
    description: "Описание страницы",
    keywords: ["массив", "ключевых", "слов"],
    language: "язык страницы",
    opengraph: {
      title: "og:title",
      image: "og:image",
      type: "og:type"
    }
  },
  product: {
    id: "идентификатор товара",
    name: "название товара",
    isLiked: false,
    tags: {
      category: ["категории"],
      discount: ["скидки"],
      label: ["бирки"]
    },
    price: 50,
    oldPrice: 80,
    discount: 30,
    discountPercent: "37.50%",
    currency: "RUB",
    properties: {
      "ключ": "значение"
    },
    description: "HTML описание товара",
    images: [
      {
        preview: "миниатюра",
        full: "полное изображение",
        alt: "альтернативный текст"
      }
    ]
  },
  suggested: [
    {
      name: "название товара",
      description: "описание",
      image: "изображение",
      price: "цена",
      currency: "валюта"
    }
  ],
  reviews: [
    {
      rating: 5,
      author: {
        avatar: "аватар",
        name: "имя автора"
      },
      title: "заголовок отзыва",
      description: "текст отзыва",
      date: "дата в формате DD.MM.YYYY"
    }
  ]
}
```

## Функциональность

### 1. Мета-информация страницы

- Получение языка страницы из тега `<html>`
- Извлечение заголовка страницы (без названия сайта)
- Сбор ключевых слов из мета-тега в виде массива
- Получение описания страницы
- Сбор OpenGraph данных (`og:title`, `og:image`, `og:type`)

### 2. Данные карточки товара

- Идентификатор товара из data-атрибута
- Массив фотографий (полное изображение, миниатюра, alt-текст)
- Статус лайка (наличие класса `active`)
- Название товара из h1-тега
- Теги товара (категории, скидки, бирки) по цветам
- Цены (текущая, старая)
- Расчет скидки (абсолютная и процентная)
- Определение валюты (USD, EUR, RUB)
- Свойства товара (ключ-значение)
- Полное описание товара с HTML-разметкой

### 3. Дополнительные товары

- Сбор массива рекомендованных товаров
- Извлечение: изображения, названия, цены, валюты, описания

### 4. Обзоры товара

- Сбор массива отзывов
- Извлечение: рейтинга, заголовка, описания, автора (аватар, имя), даты

## Технические требования

- Использование чистого JavaScript
- Обработка всех возможных состояний страницы (отсутствие тегов, скидок и т.д.)
- Триммирование строковых значений
- Удаление лишних атрибутов с HTML-тегов в описании
- Корректная обработка дат в формате DD.MM.YYYY

## Запуск и тестирование

1. Откройте файл `index.html` в браузере
2. Работайте с файлом `parser.js`, изменяя функцию `parsePage()`
3. Для тестирования раскомментируйте строку `// void makeTests();` в `index.html`
4. Перезагрузите страницу для просмотра результатов тестирования
5. Для повторного запуска тестов выполните `void makeTests()` в консоли

## Особенности реализации

- Страница генерирует случайные данные при каждом обновлении
- Тесты проверяют корректность заполнения всех полей структуры
- Код должен быть разбит на простые и понятные функции
- Необходима обработка крайних случаев и ошибок